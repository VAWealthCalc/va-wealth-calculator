<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>VA Comp to Capital</title>
  <meta name="description" content="Project long-term wealth using VA disability benefits, COLA, and optional monthly contributions." />
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <main class="container">
    <h1>VA Comp to Capital</h1>
    <p class="tagline" id="tagline">Convert monthly benefits into long-term wealth</p>

    <form id="calcForm" novalidate>
      <!-- LEFT COLUMN -->
      <div class="form-stack">
        <label for="rating">VA Disability Rating:</label>
        <select id="rating" name="rating">
          <option value="10" selected>10%</option>
          <option value="20">20%</option>
          <option value="30">30%</option>
          <option value="40">40%</option>
          <option value="50">50%</option>
          <option value="60">60%</option>
          <option value="70">70%</option>
          <option value="80">80%</option>
          <option value="90">90%</option>
          <option value="100">100%</option>
        </select>

        <label for="dependents">Dependent Status:</label>
        <select id="dependents" name="dependents">
          <option value="alone">Veteran Alone (No Dependents)</option>
          <option value="with_spouse">With Spouse Only</option>
          <option value="with_spouse_and_child">With Spouse and 1 Child</option>
          <option value="with_child_only">With 1 Child Only</option>
          <option value="with_spouse_and_1_parent">With Spouse and 1 Parent</option>
          <option value="with_spouse_and_2_parents">With Spouse and 2 Parents</option>
          <option value="with_1_parent_only">With 1 Parent Only</option>
          <option value="with_2_parents_only">With 2 Parents Only</option>
        </select>

        <p id="depNotice" class="notice" role="status" aria-live="polite" hidden>
          Note: At 10% and 20% ratings, VA does not add amounts for dependents. Calculations use the “Veteran Alone” rate.
        </p>

        <!-- Only shown when a child option is selected -->
        <div id="childFields" hidden>
          <label for="childAge">
            Child’s current age
            <input id="childAge" name="childAge" type="number" min="0" max="17" step="1" value="0" />
            <div class="helper">We assume the child add-on stops at age 18.</div>
          </label>
        </div>

        <label for="currentAge">Current Age:</label>
        <input
          type="number"
          id="currentAge"
          name="currentAge"
          placeholder="22"
          value="22"
          min="18"
          step="1"
          required
        >

        <label for="retirementAge">Retirement Age:</label>
        <input
          type="number"
          id="retirementAge"
          name="retirementAge"
          placeholder="60"
          value="60"
          min="19"
          max="110"
          step="1"
          required
        >

        <label for="returnRate">
          Annual Investment Return (%):
          <span id="returnRateValue" aria-live="polite">10.0%</span>
        </label>
        <input
          type="range"
          id="returnRate"
          name="returnRate"
          min="5"
          max="15"
          step="0.5"
          value="10"
          aria-describedby="returnRateValue"
        >

        <!-- Inflation (results always shown in today's dollars) -->
        <label for="inflation">
          Inflation (CPI) %
          <div class="input-row">
            <input
              id="inflation"
              name="inflation"
              type="number"
              inputmode="decimal"
              step="0.1"
              min="0"
              max="20"
              value="2.5"
              aria-describedby="inflationHelp"
            />
            <span class="addon">%</span>
          </div>
          <div id="inflationHelp" class="helper">
            All results are shown in <strong>today’s dollars</strong> using the inflation rate you set.
          </div>
        </label>

        <!-- Additional monthly (kept flat in nominal dollars) -->
        <label for="extraInvestment">
          Additional Monthly Investment:
          <span id="extraInvestmentValue" aria-live="polite">$0</span>
        </label>
        <input
          type="range"
          id="extraInvestment"
          name="extraInvestment"
          min="0"
          max="2000"
          step="50"
          value="0"
          aria-describedby="extraInvestmentValue"
        >
      </div>

      <!-- RIGHT COLUMN (on desktop): Result then Chart -->
      <div class="result">
        <output id="result" aria-live="polite">$0</output>
        <div class="label">
          Projected Balance <span id="resultMeta">(today’s $ @ 2.5% inflation)</span>
        </div>
      </div>

      <div class="chart-card" aria-live="polite">
        <div class="chart-title">Projected Growth</div>
        <div class="chart-wrap">
          <canvas id="growthChart" aria-label="Projected balance over time" role="img"></canvas>
        </div>
      </div>

      <p class="disclaimer" role="note">
  This tool is for informational purposes only and is not investment, tax, or legal advice.<br />
  Unofficial tool; not affiliated with or endorsed by the U.S. Department of Veterans Affairs (VA).<br />
  <small id="ratesStamp">Rates year: <span id="ratesYear">Embedded</span></small>
</p>

<p class="links">
  <a href="https://www.va.gov/supporting-forms-for-claims/intent-to-file-form-21-0966/introduction/"
     target="_blank" rel="noopener noreferrer">Submit an Intent to File</a>
  |
  <a href="https://www.va.gov/disability/compensation-rates/veteran-rates/"
     target="_blank" rel="noopener noreferrer">Latest VA Disability Rates</a>
</p>
    </form>
  </main>

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.3/dist/chart.umd.min.js" defer></script>
  <script src="js/script.js" defer></script>
</body>
</html>
